<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
  <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
  <title>Hui</title>
  <link href="../../css/Hui.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div class="" style="margin-top:300px">
  <div class="H-flexbox-horizontal H-theme-background-color-white background H-border-vertical-bottom-after H-clear-both">
        <div class="H-padding-vertical-both-10 H-box-sizing-border-box"><img id="imgg" src="../../image/default.jpg" alt="" title="" class="H-display-block H-margin-horizontal-left-10" style="width: 90px; height: 120px;"></div>
        <div class="H-flex-item H-padding-10 H-position-relative H-box-sizing-border-box" style="height: 140px; ">
            <span class="H-flex-item  H-font-size-18  H-text-show-row-1" id="title"></span>
            <span class="H-flex-item  H-font-size-14  " id="artistName"></span>
            <p class="H-font-size-10 H-theme-font-color-999 H-position-absolute H-z-index-10 H-margin-0" style="bottom: 50px; left: 10px; right: 10px;">
                <span class="H-flex-item"><i class="H-iconfont H-icon-star-null H-theme-font-color4 H-font-size-18 H-margin-horizontal-right-5"></i><i class="H-iconfont H-icon-star-null H-theme-font-color4 H-font-size-18 H-margin-horizontal-right-5"></i><i class="H-iconfont H-icon-star-null H-theme-font-color4 H-font-size-18 H-margin-horizontal-right-5"></i><i class="H-iconfont H-icon-star-null H-theme-font-color4 H-font-size-18 H-margin-horizontal-right-5"></i><i class="H-iconfont H-icon-star-null H-theme-font-color4 H-font-size-18 H-margin-horizontal-right-5"></i> 1727人评分</span>
            </p>
            <p class="H-font-size-10 H-theme-font-color-999 H-position-absolute H-z-index-10 H-margin-0" style="bottom: 10px; left: 10px; right: 10px;">230万字 0.05元/千字</p>
        </div>
    </div>
</div>
  <div class="H-padding-vertical-bottom-10"></div>
  <div class="H-theme-background-color-white H-padding-horizontal-both-10">
        <p class="H-padding-horizontal-both-10 H-font-size-18 H-theme-font-color-black H-text-show-row-4" id="content"></p>

    </div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript">
    apiready = function() {
        openmv(api.pageParam.vid)


    }

    function init() {



    }

    function isfull() {
        var moviePlayer = api.require('moviePlayer');
        moviePlayer.isFullscreen(function(ret) {
            if(!ret.state){
               api.closeWin();

            }
        });
    }

    function openmv(vid) {
        api.ajax({
            url: "https://api.imjad.cn/cloudmusic/?type=mv&id=" + vid,
            method: 'post',

        }, function(ret, err) {
            if (ret) {
                var title = ret.data.name + '-' + ret.data.artistName
                var url = ret.data.brs[720]
                $api.text($api.byId('title'), ret.data.name);
                $api.text($api.byId('artistName'), ret.data.artistName);
                 console.log(ret.data.cover);
                  var imgurl=ret.data.cover.replace('.jpg','.jpg?param=90y140')
                  $api.attr($api.byId('imgg'), 'src', imgurl);
                  $api.text($api.byId('content'), ret.data.desc);

                var moviePlayer = api.require('moviePlayer');
                moviePlayer.open({
                    texts: {
                        title: title
                    },
                    rect: {
                        x: 0,
                        y: 0,
                        w: api.frameWidth,
                        h: 300
                    },
                    styles: {
                        head: {
                            bg: 'rgba(0,0,0,0.5)',
                            // text:'成都'，
                            height: 44,
                            y: 20,
                            title: {
                                size: 16,
                                color: '#fff',
                                width: 340,
                                leftMargin: 10
                            },
                            backSize: 25,
                            backImg: 'widget://image/back.png',
                            customButtons: [{
                                w: 30,
                                h: 30,
                                rightMagin: 10,
                                img: 'widget://image/image/collect.png',
                                imgSelected: 'fs://image/collectSelected.png',
                            }]
                        },
                        foot: {
                            bg: 'rgba(0,0,0,0.5)',
                            height: 44,
                            palyBtn: {
                                size: 20,
                                playImg: 'widget://image/play.png',
                                pauseImg: 'widget://image/pause.png',
                                marginLeft: 5
                            },
                            currentTimeLabel: {
                                textSize: 14,
                                textColor: "#FFF",
                                textWidth: 43,
                                marginLeft: 5
                            },
                            seekBar: {
                                sliderImg: 'widget://image/circle.png',
                                sliderW: 20,
                                sliderH: 20,
                                progressColor: '#696969',
                                progressSelected: '#76EE00',
                                marginLeft: 10,
                                marginRight: 10
                            },
                            totalTimeLabel: {
                                textSize: 14,
                                textColor: "#FFF",
                                textWidth: 43,
                                marginRight: 5
                            },
                            fullscreenBtn: {
                                size: 20,
                                verticalImg: 'widget://image/vertical.png',
                                horizontalImg: 'widget://image/horizontal.png',
                            }
                        }
                    },
                    path: url,
                    coverImg: ret.data.fenpic,
                    autoPlay: true,
                    // fixedOn:api.frameName
                }, function(ret, err) {
                    if (ret) {
                        // alert(JSON.stringify(ret));
                        // } else {
                        // alert(JSON.stringify(err));
                    }

                });
            } else {
                alert(JSON.stringify(err));
            }
        });


    }
</script>

</html>
